<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">
    <script src="js/main.js"></script>
    <title>Home</title>
</head>

<body>
    <video muted loop autoplay id="myvideo">
        <source src="video/menu2.mp4" type="video/mp4">
    </video>
    <div id="container_main">
        <div id="div_logo">
            <img src="img/logo.png" id="txt_logo">
        </div>
        <div id="container_selecao">
            <div id="sel_1" class="div_dupla">
                <div class="txt_selecao" onclick="call_login()">Entrar</div>
                <img src="img/selector.png" class="arrow_d" id="arrow1">
            </div>
            <div id="sel_2" class="div_dupla">
                <div class="txt_selecao">Visitar</div>
                <img src="img/selector.png" class="arrow_d" id="arrow2">
            </div>

            <div id="container_login">
                <form id="form_login">
                    <span style="font-size: 1em">Bem vindo ao 'Projeto'!</span>
                    <input id="inp_email" placeholder="Email">
                    <input type="password" placeholder="Senha">
                    <button type="button">Entrar</button>
                    <span id="sem_login">Sem Login? <span onclick="call_cadastro()" class="span_call_cadastro">Venha
                            fazer parte da
                            nossa comunidade!</span></span>
                    <img onclick="back_home()" src="img/arrow_back.png">
                </form>
            </div>

            <div id="divisao_cad"></div>

            <div id="container_cadastro">
                <form id="form_cadastro">
                    <span style="font-size: 1em; color: #f2f2f2;">Fa√ßa parte da nossa comunidade!</span>
                    <div>
                        <input placeholder="Nome" id="inp_cad_nome" onkeyup="validar_nome()">
                        <img src="img/certo.png" id="certo_nome">
                        <img src="img/errado.png" id="errado_nome">

                        <input placeholder="Email" id="inp_cad_email" onkeyup="validar_email()">
                        <img src="img/certo.png" id="certo_email">
                        <img src="img/errado.png" id="errado_email">
                    </div>
                    <div>
                        <input placeholder="Cep" id="inp_cad_cep" maxlength="9" onchange="viacep()"
                            onkeyup="mascara_up()" onkeydown="mascara_press()">
                        <img src="img/certo.png" id="certo_cep">
                        <img src="img/errado.png" id="errado_cep">

                        <input placeholder="Estado" id="inp_cad_estado" maxlength="2" onkeyup="validar_estado()">
                        <img src="img/certo.png" id="certo_estado">
                        <img src="img/errado.png" id="errado_estado">
                    </div>
                    <div>
                        <input placeholder="Senha" id="inp_cad_senha" onkeyup="validar_senha()">
                        <img src="img/certo.png" id="certo_senha">
                        <img src="img/errado.png" id="errado_senha">

                        <input placeholder="Confirme sua Senha" id="inp_confirmacao" onkeyup="validar_senhac()">
                        <img src="img/certo.png" id="certo_senhac">
                        <img src="img/errado.png" id="errado_senhac">
                    </div>
                    <input placeholder="Username" id="inp_cad_user" onkeyup="validar_user()">
                    <img src="img/certo.png" id="certo_user">
                    <img src="img/errado.png" id="errado_user">

                    <button type="button" onclick="verificar_cadastro()">Cadastrar</button>
                </form>
            </div>
        </div>
    </div>
</body>

</html>

<script>
    function viacep() {

        fetch(`https://viacep.com.br/ws/${inp_cad_cep.value}/json/`, {
            method: "GET",
            mode: "cors"
        }).then(function (resposta) {
            console.log(resposta)
            resposta.json().then(function (data) {
                console.log(data)
                inp_cad_estado.value = data.uf;
                inp_cad_estado.disabled = true;

                errado_estado.style.transition = 'opacity 0.5s ease';
                errado_estado.style.opacity = 0;

                certo_estado.style.transition = 'opacity 0.5s ease';
                certo_estado.style.opacity = 1;
            })

        }).catch(function (erro) {
            console.log(erro)
        })
    }

    function mascara_up() {
        let cep = inp_cad_cep.value;
        if (event.keyCode != 8) {
            if (cep.length == 5) {
                inp_cad_cep.value += '-'
            }
        }

        if (cep.length != 9) {
            certo_cep.style.transition = 'opacity 0.5s ease';
            certo_cep.style.opacity = 0;
            
            errado_cep.style.transition = 'opacity 0.5s ease';
            errado_cep.style.opacity = 1;
        }

        else{
            errado_cep.style.transition = 'opacity 0.5s ease';
            errado_cep.style.opacity = 0;

            certo_cep.style.transition = 'opacity 0.5s ease';
            certo_cep.style.opacity = 1;
        }
    }

    function mascara_press() {
        let cep = inp_cad_cep.value;

        if (cep.length == 5) {
            if (event.keyCode != 8) {
                inp_cad_cep.value += '-'
            }
        }
    }
</script>